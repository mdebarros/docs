<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1150px" preserveAspectRatio="none" style="width:1721px;height:1150px;" version="1.1" viewBox="0 0 1721 1150" width="1721px" zoomAndPan="magnify"><defs><filter height="300%" id="f18m1w2a7undob" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="168" x="777.75" y="23.5352">2.3.0. Transfer Timeout</text><rect fill="#D3D3D3" height="1105.2246" style="stroke: #A80036; stroke-width: 1.0;" width="186" x="4" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="7" y="47.0566">Financial Service Providers</text><rect fill="#ADD8E6" height="1105.2246" style="stroke: #A80036; stroke-width: 1.0;" width="361" x="192" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="294" y="47.0566">ML API Adapter Service</text><rect fill="#FFFFE0" height="1105.2246" style="stroke: #A80036; stroke-width: 1.0;" width="1139.5" x="555" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="1074.25" y="47.0566">Central Service</text><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="427.5" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="645.5" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1134" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1447" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="848.9609" style="stroke: #000000; stroke-width: 2.0;" width="1687.5" x="23" y="170.7754"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="354.9922" style="stroke: #000000; stroke-width: 2.0;" width="1151.5" x="549" y="281.0176"/><rect fill="#FFFFFF" height="308.3711" style="stroke: none; stroke-width: 1.0;" width="1151.5" x="549" y="327.6387"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="132.5527" style="stroke: #000000; stroke-width: 2.0;" width="1667.5" x="33" y="679.3203"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="132.5527" style="stroke: #000000; stroke-width: 2.0;" width="1608.5" x="92" y="880.1836"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="67" x2="67" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="126" x2="126" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="251" x2="251" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="432" x2="432" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="650" x2="650" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="843" x2="843" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="996" x2="996" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1139" x2="1139" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1292" x2="1292" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1451.5" x2="1451.5" y1="153.7754" y2="1036.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1616.5" x2="1616.5" y1="153.7754" y2="1036.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="43" y="134.334">DFSP1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="46" y="150.8223">Payer</text><ellipse cx="67.5" cy="63.7988" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M67.5,71.7988 L67.5,98.7988 M54.5,79.7988 L80.5,79.7988 M67.5,98.7988 L54.5,113.7988 M67.5,98.7988 L80.5,113.7988 " fill="none" filter="url(#f18m1w2a7undob)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="43" y="1049.2715">DFSP1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="46" y="1065.7598">Payer</text><ellipse cx="67.5" cy="1078.7129" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M67.5,1086.7129 L67.5,1113.7129 M54.5,1094.7129 L80.5,1094.7129 M67.5,1113.7129 L54.5,1128.7129 M67.5,1113.7129 L80.5,1128.7129 " fill="none" filter="url(#f18m1w2a7undob)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="102" y="134.334">DFSP2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="104" y="150.8223">Payee</text><ellipse cx="126.5" cy="63.7988" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M126.5,71.7988 L126.5,98.7988 M113.5,79.7988 L139.5,79.7988 M126.5,98.7988 L113.5,113.7988 M126.5,98.7988 L139.5,113.7988 " fill="none" filter="url(#f18m1w2a7undob)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="102" y="1049.2715">DFSP2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="104" y="1065.7598">Payee</text><ellipse cx="126.5" cy="1078.7129" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M126.5,1086.7129 L126.5,1113.7129 M113.5,1094.7129 L139.5,1094.7129 M126.5,1113.7129 L113.5,1128.7129 M126.5,1113.7129 L139.5,1128.7129 " fill="none" filter="url(#f18m1w2a7undob)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="196" y="150.8223">ML API Adapter</text><path d="M230.5,109.2871 L230.5,133.2871 M230.5,121.2871 L247.5,121.2871 " fill="none" filter="url(#f18m1w2a7undob)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="259.5" cy="121.2871" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="196" y="1049.2715">ML API Adapter</text><path d="M230.5,1056.2246 L230.5,1080.2246 M230.5,1068.2246 L247.5,1068.2246 " fill="none" filter="url(#f18m1w2a7undob)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="259.5" cy="1068.2246" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="227" x="316" y="150.8223">ML API Notification Event Handler</text><ellipse cx="432.5" cy="121.2871" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="428.5,109.2871,434.5,104.2871,432.5,109.2871,434.5,114.2871,428.5,109.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="227" x="316" y="1049.2715">ML API Notification Event Handler</text><ellipse cx="432.5" cy="1068.2246" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="428.5,1056.2246,434.5,1051.2246,432.5,1056.2246,434.5,1061.2246,428.5,1056.2246" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="559" y="150.8223">Transfer Timeout Handler</text><ellipse cx="650.5" cy="121.2871" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="646.5,109.2871,652.5,104.2871,650.5,109.2871,652.5,114.2871,646.5,109.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="559" y="1049.2715">Transfer Timeout Handler</text><ellipse cx="650.5" cy="1068.2246" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="646.5,1056.2246,652.5,1051.2246,650.5,1056.2246,652.5,1061.2246,646.5,1056.2246" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="756" y="114.2871"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="752" y="118.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="759" y="138.8223">topic-transfer-position</text><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="756" y="1035.7363"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="752" y="1039.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="759" y="1060.2715">topic-transfer-position</text><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="948" y="114.2871"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="944" y="118.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="951" y="138.8223">Event-Topic</text><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="948" y="1035.7363"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="944" y="1039.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="951" y="1060.2715">Event-Topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="1059" y="150.8223">Position Event Handler</text><ellipse cx="1139" cy="121.2871" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1135,109.2871,1141,104.2871,1139,109.2871,1141,114.2871,1135,109.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="1059" y="1049.2715">Position Event Handler</text><ellipse cx="1139" cy="1068.2246" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1135,1056.2246,1141,1051.2246,1139,1056.2246,1141,1061.2246,1135,1056.2246" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1233" y="114.2871"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1229" y="118.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1236" y="138.8223">Transfer-Topic</text><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1233" y="1035.7363"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1229" y="1039.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1236" y="1060.2715">Transfer-Topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1370.5" y="150.8223">Transfer Event Handler</text><ellipse cx="1452" cy="121.2871" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1448,109.2871,1454,104.2871,1452,109.2871,1454,114.2871,1448,109.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1370.5" y="1049.2715">Transfer Event Handler</text><ellipse cx="1452" cy="1068.2246" fill="#FEFECE" filter="url(#f18m1w2a7undob)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1448,1056.2246,1454,1051.2246,1452,1056.2246,1454,1061.2246,1448,1056.2246" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="1547.5" y="114.2871"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="1543.5" y="118.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="1550.5" y="138.8223">Notification-Topic</text><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="1547.5" y="1035.7363"/><rect fill="#FEFECE" filter="url(#f18m1w2a7undob)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="1543.5" y="1039.7363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="1550.5" y="1060.2715">Notification-Topic</text><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="427.5" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="645.5" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1134" y="163.7754"/><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="862.9609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1447" y="163.7754"/><path d="M23,170.7754 L173,170.7754 L173,177.7754 L163,187.7754 L23,187.7754 L23,170.7754 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="848.9609" style="stroke: #000000; stroke-width: 2.0;" width="1687.5" x="23" y="170.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="38" y="184.3438">Transfer Expiry</text><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="492" x="556" y="213.0859"/><polygon fill="#EEEEEE" points="556,213.0859,620,213.0859,620,220.0859,610,230.0859,556,230.0859,556,213.0859" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="569" y="227.6543">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="694" y="246.6543">Timeout Handler Consume {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="36" x="870" y="246.6543">2.3.1.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="870" x2="906" y1="248.6543" y2="248.6543"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="906" y="246.6543">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="698" y="261.9648"/><path d="M549,281.0176 L611,281.0176 L611,288.0176 L601,298.0176 L549,298.0176 L549,281.0176 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="354.9922" style="stroke: #000000; stroke-width: 2.0;" width="1151.5" x="549" y="281.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="564" y="294.5859">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="237" x="626" y="293.6523">[transferStateId == 'RECEIVED_PREPARE']</text><polygon fill="#A80036" points="1605,315.6387,1615,319.6387,1605,323.6387,1609,319.6387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="1611" y1="319.6387" y2="319.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="662.5" y="314.8965">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="675.5" y="314.8965">Produce message</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="549" x2="1700.5" y1="328.6387" y2="328.6387"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181" x="554" y="339.2734">[transferStateId == 'RESERVED']</text><polygon fill="#A80036" points="831,359.9043,841,363.9043,831,367.9043,835,363.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="837" y1="363.9043" y2="363.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="662.5" y="359.1621">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="675.5" y="359.1621">Produce message</text><polygon fill="#A80036" points="854,389.2148,844,393.2148,854,397.2148,850,393.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="1133" y1="393.2148" y2="393.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="860" y="388.4727">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="873" y="388.4727">Consume message</text><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="605" x="749" y="401.2148"/><polygon fill="#EEEEEE" points="749,401.2148,813,401.2148,813,408.2148,803,418.2148,749,418.2148,749,401.2148" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="762" y="415.7832">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="837.5" y="434.7832">Position Hander Consume (Timeout) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="189" x="1072.5" y="434.7832">seq-position-1.3.3-abort.svg</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1072.5" x2="1261.5" y1="436.7832" y2="436.7832"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1261.5" y="434.7832">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="841.5" y="450.0938"/><polygon fill="#A80036" points="1280,479.457,1290,483.457,1280,487.457,1284,483.457" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1144" x2="1286" y1="483.457" y2="483.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1151" y="478.7148">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="1164" y="478.7148">Produce message</text><polygon fill="#A80036" points="1303,533.7676,1293,537.7676,1303,541.7676,1299,537.7676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1297" x2="1446" y1="537.7676" y2="537.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1309" y="533.0254">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1322" y="533.0254">Consume message</text><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="748.5" x="941" y="545.7676"/><polygon fill="#EEEEEE" points="941,545.7676,1005,545.7676,1005,552.7676,995,562.7676,941,562.7676,941,545.7676" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="954" y="560.3359">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1175.25" y="579.3359">Transfer Handler Consume (Timeout) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="36" x="1415.25" y="579.3359">2.3.3.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1415.25" x2="1451.25" y1="581.3359" y2="581.3359"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1451.25" y="579.3359">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1179.25" y="594.6465"/><polygon fill="#A80036" points="1605,624.0098,1615,628.0098,1605,632.0098,1609,628.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1457" x2="1611" y1="628.0098" y2="628.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1464" y="623.2676">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="1477" y="623.2676">Produce message</text><polygon fill="#A80036" points="1605,660.3203,1615,664.3203,1605,668.3203,1609,664.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="437.5" x2="1611" y1="664.3203" y2="664.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="444.5" y="659.5781">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="457.5" y="659.5781">Consume message</text><path d="M33,679.3203 L100,679.3203 L100,686.3203 L90,696.3203 L33,696.3203 L33,679.3203 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="132.5527" style="stroke: #000000; stroke-width: 2.0;" width="1667.5" x="33" y="679.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="48" y="692.8887">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="284" x="115" y="691.9551">[action IN ['timeout-received', 'timeout-reserved']]</text><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="1649.5" x="40" y="721.6309"/><polygon fill="#EEEEEE" points="40,721.6309,104,721.6309,104,728.6309,94,738.6309,40,738.6309,40,721.6309" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="53" y="736.1992">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="715.25" y="755.1992">Send notification to Participant (Payer) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="47" x="963.25" y="755.1992">1.1.4.a.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="963.25" x2="1010.25" y1="757.1992" y2="757.1992"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1010.25" y="755.1992">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="719.25" y="770.5098"/><polygon fill="#A80036" points="78.5,799.873,68.5,803.873,78.5,807.873,74.5,803.873" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="72.5" x2="426.5" y1="803.873" y2="803.873"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="84.5" y="799.1309">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="97.5" y="799.1309">Send callback notification</text><polygon fill="#A80036" points="1605,861.1836,1615,865.1836,1605,869.1836,1609,865.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="437.5" x2="1611" y1="865.1836" y2="865.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="444.5" y="860.4414">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="457.5" y="860.4414">Consume message</text><path d="M92,880.1836 L159,880.1836 L159,887.1836 L149,897.1836 L92,897.1836 L92,880.1836 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="132.5527" style="stroke: #000000; stroke-width: 2.0;" width="1608.5" x="92" y="880.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="107" y="893.752">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172" x="174" y="892.8184">[action == 'timeout-reserved']</text><rect fill="#FFFFFF" filter="url(#f18m1w2a7undob)" height="55.9316" style="stroke: #000000; stroke-width: 2.0;" width="1590.5" x="99" y="922.4941"/><polygon fill="#EEEEEE" points="99,922.4941,163,922.4941,163,929.4941,153,939.4941,99,939.4941,99,922.4941" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="112" y="937.0625">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="743.75" y="956.0625">Send notification to Participant (Payee) {</text><a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:show="new" xlink:title="https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="47" x="993.75" y="956.0625">1.1.4.a.</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="993.75" x2="1040.75" y1="958.0625" y2="958.0625"/></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1040.75" y="956.0625">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="747.75" y="971.373"/><polygon fill="#A80036" points="137.5,1000.7363,127.5,1004.7363,137.5,1008.7363,133.5,1004.7363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="131.5" x2="426.5" y1="1004.7363" y2="1004.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="143.5" y="999.9941">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="165.5" y="999.9941">Send callback notification</text><!--
@startuml
title 2.3.0. Transfer Timeout

autonumber


actor "DFSP1\nPayer" as DFSP1
actor "DFSP2\nPayee" as DFSP2
boundary "ML API Adapter" as MLAPI
control "ML API Notification Event Handler" as NOTIFY_HANDLER
control "Transfer Timeout Handler" as EXP_HANDLER
collections "topic-transfer-position" as TOPIC_TRANSFER_POSITION
control "Position Event Handler" as POS_HANDLER
collections "Transfer-Topic" as TOPIC_TRANSFERS
control "Transfer Event Handler" as TRANS_HANDLER
collections "Notification-Topic" as TOPIC_NOTIFICATIONS
collections "Event-Topic" as TOPIC_EVENT

box "Financial Service Providers" #lightGray
	participant DFSP1
	participant DFSP2
end box

box "ML API Adapter Service" #LightBlue
	participant MLAPI
	participant NOTIFY_HANDLER
end box

box "Central Service" #LightYellow
    participant EXP_HANDLER
    participant TOPIC_TRANSFER_POSITION
    participant TOPIC_EVENT
    participant POS_HANDLER
    participant TOPIC_TRANSFERS
    participant TRANS_HANDLER
    participant TOPIC_NOTIFICATIONS
end box

activate NOTIFY_HANDLER
activate EXP_HANDLER
activate POS_HANDLER
activate TRANS_HANDLER
group Transfer Expiry
    |||
    ref over EXP_HANDLER, TOPIC_EVENT :  Timeout Handler Consume {[[https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-timeout-2.3.1.svg 2.3.1.]]} \n
    alt transferStateId == 'RECEIVED_PREPARE'
        EXP_HANDLER -> TOPIC_NOTIFICATIONS: Produce message
    else transferStateId == 'RESERVED'
        EXP_HANDLER -> TOPIC_TRANSFER_POSITION: Produce message
        TOPIC_TRANSFER_POSITION <- POS_HANDLER: Consume message
        ref over TOPIC_TRANSFER_POSITION, TOPIC_TRANSFERS :  Position Hander Consume (Timeout) {[[https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-position-1.3.3-abort.svg seq-position-1.3.3-abort.svg]]} \n
        POS_HANDLER -> TOPIC_TRANSFERS: Produce message
        |||
        TOPIC_TRANSFERS <- TRANS_HANDLER: Consume message
        ref over TOPIC_EVENT, TOPIC_NOTIFICATIONS : Transfer Handler Consume (Timeout) {[[https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-timeout-2.3.3.svg 2.3.3.]]} \n
        TRANS_HANDLER -> TOPIC_NOTIFICATIONS: Produce message
    end
    TOPIC_NOTIFICATIONS <- NOTIFY_HANDLER: Consume message
    opt action IN ['timeout-received', 'timeout-reserved']
        |||
        ref over DFSP1, TOPIC_NOTIFICATIONS : Send notification to Participant (Payer) {[[https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg 1.1.4.a.]]} \n
        NOTIFY_HANDLER -> DFSP1: Send callback notification
    end
    |||
    TOPIC_NOTIFICATIONS <- NOTIFY_HANDLER: Consume message
    opt action == 'timeout-reserved'
        |||
        ref over DFSP2, TOPIC_NOTIFICATIONS : Send notification to Participant (Payee) {[[https://github.com/mojaloop/docs/blob/master/CentralServices/seq_diagrams/seq-prepare-1.1.4.a.svg 1.1.4.a.]]} \n
        NOTIFY_HANDLER -> DFSP2: Send callback notification
    end
end
deactivate TRANS_HANDLER
deactivate POS_HANDLER
deactivate EXP_HANDLER
deactivate NOTIFY_HANDLER
@enduml

PlantUML version 1.2018.11(Sat Sep 22 18:43:53 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b26
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>